<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- JQuery -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- Bootstrap JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

  <style>
    body {
      background-color: #f0f0f0;
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      color: #000; 
    }

    #mainContainer {
      display: flex;
      justify-content: center;
      align-items: start;
    }

    #drawingContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    canvas {
      border: 5px solid #6c63ff;
      margin: 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(108, 99, 255, 0.5);
    }

    #messageBox {
      width: 300px;
      height: 600px; /* Same height as the canvas */
      background-color: white;
      margin: 20px;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 10px;
      font-family: Arial, sans-serif;
      font-size: 16px;
      color: #333;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .colorSelector, .lineWidthSelector, #eraser {
      cursor: pointer;
      display: inline-block;
      margin: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .colorSelector {
      width: 30px;
      height: 30px;
    }

    .lineWidthSelector {
      width: 40px;
      height: 40px;
      text-align: center;
      line-height: 40px;
    }

    #eraser {
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      background-color: #fff;
    }
  </style>
  <title>VividFusion</title>
</head>
<body>
  {% include "layouts/navbar.html" %}
  
  <div id="mainContainer">
    <div id="drawingContainer">
      <canvas id="drawingCanvas" width="800" height="600"></canvas>

      <!-- Color selectors -->
      <div id="colorSelectors">
        <div class="colorSelector" style="background-color: red;"></div>
        <div class="colorSelector" style="background-color: blue;"></div>
        <div class="colorSelector" style="background-color: green;"></div>
      </div>

      <!-- Line width selectors -->
      <div id="lineWidthSelectors">
        <div class="lineWidthSelector" id="lineWidth20">20px</div>
        <div class="lineWidthSelector" id="lineWidth10">10px</div>
        <div class="lineWidthSelector" id="lineWidth5">5px</div>
      </div>

      <!-- Eraser -->
      <div id="eraser">Erase</div>
    </div>

    <div id="messageBox">
        Draw anything on here! There are three colors to pick, thickness selectors, and a white eraser. Try to get creative! Studies show that drawing helps relieve cancer patients from their stress. Try an ocean with the blue color, with big waves and small waves (different px!). We hope this helps.
    </div>
  </div>

  <!-- JavaScript for Canvas Drawing -->
  <script>
    var canvas = document.getElementById('drawingCanvas');
    var ctx = canvas.getContext('2d');
    var isDrawing = false;
    var lastX = 0;
    var lastY = 0;
    var strokeColor = 'black';
    var lineWidth = 10;

    canvas.addEventListener('mousedown', function(e) {
      isDrawing = true;
      [lastX, lastY] = [e.offsetX, e.offsetY];
    });

    canvas.addEventListener('mousemove', function(e) {
      if (!isDrawing) return;
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(e.offsetX, e.offsetY);
      ctx.strokeStyle = strokeColor;
      ctx.lineWidth = lineWidth;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.stroke();
      [lastX, lastY] = [e.offsetX, e.offsetY];
    });

    canvas.addEventListener('mouseup', function() {
      isDrawing = false;
    });

    canvas.addEventListener('mouseout', function() {
      isDrawing = false;
    });

    document.querySelectorAll('.colorSelector').forEach(item => {
      item.addEventListener('click', function() {
        strokeColor = this.style.backgroundColor;
      });
    });

    document.querySelectorAll('.lineWidthSelector').forEach(item => {
      item.addEventListener('click', function() {
        lineWidth = parseInt(this.textContent);
      });
    });

    document.getElementById('eraser').addEventListener('click', function() {
      strokeColor = (strokeColor === 'white') ? 'black' : 'white';
    });
  </script>
</body>
</html>
